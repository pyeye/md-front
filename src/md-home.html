<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/app-layout/app-header-layout/app-header-layout.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-media-query/iron-media-query.html">
<link rel="import" href="../bower_components/paper-styles/typography.html">



<link rel="import" href="../bower_components/neon-animation/neon-shared-element-animatable-behavior.html">
<link rel="import" href="../bower_components/neon-animation/animations/hero-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/ripple-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-out-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/fade-in-animation.html">
<link rel="import" href="../bower_components/neon-animation/animations/cascaded-animation.html">

<link rel="import" href="md-icons.html">

<dom-module id="md-home">

  <template>

  <style>
  :host {
  }

  [hidden] {
    display: none;
  }

  [main-title] {
    font-weight: normal;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
    justify-content: center;
  }

  [main-title] .title-label {
    @apply(--paper-font-display1);
    font-size: 24px;
    margin-left: 16px;
    margin-right: 16px;
    letter-spacing: 1.5px;
  }

  [main-title] iron-icon {
    --iron-icon-fill-color: #FFFFFF;
    --iron-icon-height: 29px;
    --iron-icon-width: 18px;
  }

  .container {
    @apply(--layout-fullbleed);
    width: 100%;
  }

  .menu {
    position: relative;
    display: inline-block;
    float: left;
    vertical-align: top;
    width: 35%;
    height: 100%;
    @apply(--paper-font-title);
    @apply(--layout-vertical);
    @apply(--layout-center-center);
  }

  .events {
    position: relative;
    display: inline-block;
    float: left;
    vertical-align: top;
    width: 65%;
    height: calc(100% / 3);
    @apply(--paper-font-title);
    @apply(--layout-vertical);
    @apply(--layout-center-center);
  }

  .image {
    height: 100%;
    width: 100%;
    -webkit-transition: all 0.3s ease;
    transition: all 0.3s ease;
    -webkit-transform: scale3d(1, 1, 1);
    transform: scale3d(1, 1, 1);
  }

  .item-title {
    position: absolute;
    top: 50%;
    left: 50%;
    -webkit-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
    color: var(--app-primary-color);
    padding: 20px;
    @apply(--paper-font-display1);
    transition: color 0.3s;
    z-index: 1;
  }

  .item-badge {
    width: 200px;
    transition: opacity 0.3s ease;
    transition: all 0.3s ease;
    z-index: 1;
  }

  .item-cover {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    top: 0;
    background: #252525;
    transition: opacity 0.3s ease;
    opacity: 0.4;
  }

  app-header {
    background-color: var(--app-primary-color);
    color: #FFFFFF;
  }

  .accordion {
    width: 100%;
    height: 100vh;
    overflow: hidden;
  }

  .accordion-item {
    vertical-align: bottom;
    position: relative;
    width: 100%;
    height: 25%;
    background-repeat: no-repeat;
    background-position: center center;
    transition: all 300ms ease;
  }

  .accordion-badge  {
    z-index: 1;
    position: absolute;
    top: 50%;
    left: 50%;
    -webkit-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
  }

  .accordion:hover .accordion-item {
    height: 22%;
  }

  .accordion:hover .item-badge {
    opacity: 1;
    -webkit-transform: scale3d(0.7, 0.7, 1);
    transform: scale3d(0.7, 0.7, 1);
  }

  .accordion:hover .accordion-item:hover .item-cover {
    opacity: 0;
  }

  .accordion:hover .accordion-item:hover .item-badge {
    opacity: 1;
    -webkit-transform: scale3d(1.4, 1.4, 1);
    transform: scale3d(1.4, 1.4, 1);
  }

  .accordion:hover .accordion-item:hover {
    height: 34%;
  }

  @media (max-width: 768px) {
    .item-badge {
      width: 160px;
    }

  }

    </style>

    <iron-media-query query="max-width: 768px" query-matches="{{smallScreen}}"></iron-media-query>

    <app-header-layout>
        <app-header id="header" effects="waterfall fade-background" reveals hidden$="[[!smallScreen]]">
          <app-toolbar>
            <slot select="[drawer-toggle]"></slot>
            <div main-title><iron-icon icon="foot-left"></iron-icon><div class="title-label">MAD DOG</div><iron-icon icon="foot-right"></iron-icon></div>
          </app-toolbar>
        </app-header>

        <div class="accordion">
          <div class="accordion-item">
            <a href="#/menu">
              <iron-image id="menu" class="image" sizing="cover" preload fade placeholder="[[base64img.menu]]" src="https://maddogclub.com/img/static/homepage/menu.jpg"></iron-image>
              <div class="accordion-badge">
                <img class="item-badge" src="https://maddogclub.com/img/static/badges/menu.png" alt="" />
              </div>
              <div class="item-cover"></div>
            </a>
          </div>
          <div class="accordion-item"> <a href="#/events">
            <iron-image id="events" class="image" sizing="cover" preload fade placeholder="[[base64img.events]]" src="https://maddogclub.com/img/static/homepage/events.jpg"></iron-image>
            <div class="item-cover"></div>
            <div class="accordion-badge">
              <img class="item-badge" src="https://maddogclub.com/img/static/badges/events.png" alt="" />
            </div>

          </a> </div>
          <div class="accordion-item"> <a href="#/gallery">
            <iron-image id="gallery" class="image" sizing="cover" preload fade placeholder="[[base64img.gallery]]" src="https://maddogclub.com/img/static/homepage/gallery.jpg"></iron-image>
            <div class="accordion-badge">
              <img class="item-badge" src="https://maddogclub.com/img/static/badges/gallery.png" alt="" />
            </div>
            <div class="item-cover"></div>
          </a> </div>
          <div class="accordion-item"> <a href="#/about">
            <iron-image id="about" class="image" sizing="cover" preload fade placeholder="[[base64img.about]]" src="https://maddogclub.com/img/static/homepage/about.jpg"></iron-image>
            <div class="accordion-badge">
              <img class="item-badge" src="https://maddogclub.com/img/static/badges/about.png" alt="" />
            </div>
            <div class="item-cover"></div>
          </a> </div>
        </div>
    </app-header-layout>


  </template>

  <script>

    Polymer({

      is: 'md-home',

      behaviors: [
        Polymer.NeonSharedElementAnimatableBehavior,
        Polymer.IronResizableBehavior],

      properties: {
        base64img: {
          type: Object,
          value: function () {
            return {
              'about': 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAJAA0DAREAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAABQME/8QAGAEAAgMAAAAAAAAAAAAAAAAAAQQFBgf/2gAMAwEAAhADEAAAASs7t6YGmHemyt//xAAbEAACAQUAAAAAAAAAAAAAAAACBAMBBQYxM//aAAgBAQABBQLFlZres5QymU213//EABwRAAICAgMAAAAAAAAAAAAAAAACAQMEMRFBQv/aAAgBAwEBPwHGpauqVfsZOJ2eRtn/xAAdEQABBAIDAAAAAAAAAAAAAAAAAQIDBAUxETJB/9oACAECAQE/AcjbjntNfF4Nn5TQvcTR/8QAHhAAAgEDBQAAAAAAAAAAAAAAAQIAAxESITFBUnH/2gAIAQEABj8CK1LB2fIc20hzqbdREj+z/8QAHhAAAgIABwAAAAAAAAAAAAAAAAERMSFBYZGxwfD/2gAIAQEAAT8hfperILHYgdlop7OIeDRH/9oADAMBAAIAAwAAABB9n//EABsRAAIBBQAAAAAAAAAAAAAAAAABEBEhMUGh/9oACAEDAQE/EMhjV4JsDaD/xAAaEQEBAAIDAAAAAAAAAAAAAAABEQAQITGR/9oACAECAQE/EKqIY0livHuDbW6s/8QAHRABAQACAQUAAAAAAAAAAAAAAREAIaExQYGRwf/aAAgBAQABPxBdaxFvBGruoPkwnuouXpVr9ds53xnP4f/Z',
              'events': 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAHABMDAREAAhEBAxEB/8QAFgAAAwAAAAAAAAAAAAAAAAAAAQUG/8QAFwEBAAMAAAAAAAAAAAAAAAAABQIDBP/aAAwDAQACEAMQAAABNkUmk+qLW//EABkQAAIDAQAAAAAAAAAAAAAAAAMFAQIEBv/aAAgBAQABBQJuxnIjVN9TU1uUNJP/xAAcEQACAgIDAAAAAAAAAAAAAAABAgADEmETIeH/2gAIAQMBAT8BNOaNoeSoOG7M4tz/xAAbEQABBAMAAAAAAAAAAAAAAAAAAQIDERMxUf/aAAgBAgEBPwGN1PJKrRm6h//EACAQAAIBBAEFAAAAAAAAAAAAAAIDAQAEERIhE1FhgdH/2gAIAQEABj8CVo4o4EZ1ksiXPyn3AXRmK1QtgkU5x3j3TencsENyxG/mv//EABoQAQACAwEAAAAAAAAAAAAAAAEAESExYcH/2gAIAQEAAT8hcCRbiHWvEGmuHgo6IuMTPXsX5P/aAAwDAQACAAMAAAAQt/8A/8QAGhEBAAIDAQAAAAAAAAAAAAAAARExAEFRIf/aAAgBAwEBPxB0KRsW3SOLPPN1jlkIC2eYBp5//8QAHBEBAAICAwEAAAAAAAAAAAAAAQAxEUEhUXGB/9oACAECAQE/EBLjbor73UbwAW1Ejgc+T//EABoQAQEBAAMBAAAAAAAAAAAAAAERIQAxQWH/2gAIAQEAAT8QkrUoMZpSfuohZEsihM7lJVdbsXVWrdaR6Qivb9ef/9k=',
              'gallery': 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAGABEDAREAAhEBAxEB/8QAFgAAAwAAAAAAAAAAAAAAAAAABAYH/8QAGAEAAgMAAAAAAAAAAAAAAAAAAgQDBQf/2gAMAwEAAhADEAAAAZVRaY4rASrD/8QAGhAAAgIDAAAAAAAAAAAAAAAABAUAAwECFv/aAAgBAQABBQJUqp3w1pHWn9ILP//EAB0RAAEEAwEBAAAAAAAAAAAAAAEAAgMEEyIxEWH/2gAIAQMBAT8BqR04WFzI/Xbd+JguWiDk1J4VhkX/xAAfEQACAQIHAAAAAAAAAAAAAAACAwABEQQSFCExUfD/2gAIAQIBAT8BxD2Xy39zFtFi6hUd5pT7n//EAB8QAAIBAwUBAAAAAAAAAAAAAAECEgADESEyUZHR8P/aAAgBAQAGPwJbzLK2BM84nGkdZqpAaIA0+xWy70Pa/8QAHBABAAIBBQAAAAAAAAAAAAAAAREhMQAQQVGh/9oACAEBAAE/IQBiCtsU4mfNQuh1yqVJ3LOw3//aAAwDAQACAAMAAAAQZ3//xAAcEQEBAAICAwAAAAAAAAAAAAABEQAhMfBBYYH/2gAIAQMBAT8QhXIGWJ5nG+zNscDTxFCaBGcOew78z//EAB8RAAEDAwUAAAAAAAAAAAAAAAEAETEhQZFRYXGB0f/aAAgBAgEBPxAIhYYpx2hXmUO5Gk5W0yfF/8QAGRABAQADAQAAAAAAAAAAAAAAAREAIYEx/9oACAEBAAE/EFFTvd4CQivDbrAfCQY6IVWi+njkz//Z',
              'menu': 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAIABMDAREAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAABAX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAgME/9oADAMBAAIQAxAAAAGWDLZSpX//xAAaEAACAgMAAAAAAAAAAAAAAAABAgADBBIj/9oACAEBAAEFAk5mvJ1j2At//8QAGxEAAgEFAAAAAAAAAAAAAAAAAAIRARIxQVH/2gAIAQMBAT8BjZD0wWt0/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAECEf/aAAgBAgEBPwFM2TZP/8QAHBAAAgEFAQAAAAAAAAAAAAAAAAERAjFBYXGR/9oACAEBAAY/AlXjRdTwbjxn/8QAGRABAQEAAwAAAAAAAAAAAAAAEQEAMUGR/9oACAEBAAE/IUoVwnAJCvWpSG3sN//aAAwDAQACAAMAAAAQB3//xAAaEQEAAQUAAAAAAAAAAAAAAAABABEhQWGB/9oACAEDAQE/EKyyLzGGtwn/xAAYEQADAQEAAAAAAAAAAAAAAAAAARExUf/aAAgBAgEBPxBLcK6Pkf/EABoQAQEAAwEBAAAAAAAAAAAAAAERADFBUfD/2gAIAQEAAT8QTZVWSOx82bwk+CC5XyCx12Gf/9k=',
            }
          }
        },
        animationConfig: {
          value: function() {
            var items = Polymer.dom(this.root).querySelectorAll('.accordion-item');
            var itemsArray = Array.prototype.slice.call(items);
            return {
              'entry': [
                {
                  name: 'fade-in-animation',
                  node: this,
                }, {
                  name: 'cascaded-animation',
                  animation: 'fade-in-animation',
                  nodes: itemsArray,
                  timing: {delay: 50}
                }],
              'exit': [
                {
                  name: 'hero-animation',
                  id: 'events-hero',
                  fromPage: this,
                }, {
                  name: 'hero-animation',
                  id: 'menu-hero',
                  fromPage: this,
                }, {
                  name: 'hero-animation',
                  id: 'gallery-hero',
                  fromPage: this,
                },{
                  name: 'hero-animation',
                  id: 'about-hero',
                  fromPage: this,
                },{
                  name: 'ripple-animation',
                  id: 'events-ripple',
                  fromPage: this,
                },{
                  name: 'ripple-animation',
                  id: 'menu-ripple',
                  fromPage: this,
                },{
                  name: 'ripple-animation',
                  id: 'gallery-ripple',
                  fromPage: this,
                },{
                  name: 'ripple-animation',
                  id: 'about-ripple',
                  fromPage: this,
                },{
                  name: 'fade-out-animation',
                  node: this,
              }]
            }
          }
        },

        sharedElements: {
          value: function() {
            return {
              'menu-hero': this.$.menu,
              'menu-ripple': this.$.menu,
              'events-hero': this.$.events,
              'events-ripple': this.$.events,
              'gallery-hero': this.$.gallery,
              'gallery-ripple': this.$.gallery,
              'about-hero': this.$.about,
              'about-ripple': this.$.about,
            }
          }
        }
      },
    });

  </script>

</dom-module>
